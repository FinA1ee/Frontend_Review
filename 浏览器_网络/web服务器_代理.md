## web服务器

### web服务器的作用

对HTTP请求进行处理和响应。

- 建立连接：接受客户端的链接
- 接受请求：从网络中读取HTTP报文
- 处理请求：解释HTTP报文并执行操作
- 访问资源：访问报文中指定的资源
- 构建响应：创建HTTP响应报文
- 发送响应：将响应发送给客户端
- 记录事务：将完成的任务记录在日志中

### web服务器内部实现

- 处理新的连接，确定客户端用户，进行日志记录和访问控制。
- 连接的IO处理：
  1. 多线程多进程：内存消耗大
  2. 复用IO：同时监视所有连接，对有状态变化的连接做出响应，空闲连接不会绑定进程和线程。
  3. 复用多线程：对每条连接都进行观察并执行少量任务。
- 访问资源：
  1. docroot：服务器文档根目录
  2. 请求目录：返回默认index文件



## Proxy - 代理

作为中间人，为为客户端提供更好的服务。代理服务器既是服务器又是客户端。连接的是两个或多个使用相同协议的应用程序。

### 为什么使用代理？

改善安全性，提高性能，节省费用，监视服务器流量。

- 儿童过滤器：维护黑名单，屏蔽部分网站
- 访问控制：在多个服务器之间进行访问控制
- 防火墙：

